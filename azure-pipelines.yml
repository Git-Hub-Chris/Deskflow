trigger:
- master

jobs: 
- job: LinuxRHEL
  pool: 
    vmImage: 'ubuntu-16.04'
  strategy:
    matrix:
      centos7:
        image: symless/centos-sudo:7

  container: $[ variables['image'] ]

  steps:
  - script: |
      sudo yum -y groupinstall "Development Tools"
      sudo yum -y install epel-release boost-static git libXtst-devel qt5-qtbase-devel qt5-qtdeclarative-devel libcurl-devel openssl-devel avahi-compat-libdns_sd-devel
      sudo yum -y install cmake3 #for some reason this needs to be seperate otherwise it wont install
    displayName: 'Install Pakages'
    
  - script: |
      mkdir build
      cd build
      cmake3 ..
      make
    displayName: 'Build'

  